# 性能指标

## ULB性能指标

* 每秒新建连接数（CPS）：每秒新建连接的数量，体现处理新增连接的能力。
* 最大并发连接数：每秒连接的总数量，体现并发处理连接的能力。
* 每秒处理包量（PPS）：每秒钟转发的包量，体现包转发速率。
* 最大吞吐量：可支持的带宽。
* 每秒请求量（QPS）：每秒查询的数量，QPS对于ULB不是核心指标，真正消耗性能的是CPS。短连接情况，QPS=CPS；长连接情况，QPS>CPS。

> 注意：以下性能指标为简单且理想的流量下，理论上能达到的最大性能，下面是一些限制和说明
> 
> 1、报文转发ULB单个即可达到下表所示性能，请求代理ULB单个VPC内的实例共享资源
> 
> 2、开启ULB日志管理功能后，会有10%的性能损耗
>
> 3、ssl cps是在`TLSv1.2,ECDHE-RSA-AES256-GCM-SHA384,2048,256`的算法条件下压测得到，更耗性能的算法可能达不到以下性能指标
>
> 4、ULB实例是部署在集群模式下的，实例在集群单机上也是多进程模式，所以来源不均衡的流量，尤其是来源单一的流量，将无法达到最大性能
>
> 5、请求代理ULB的最大并发连接数性能指的是客户端到ULB的连接数和ULB到RServer的连接数之和，监控显示的只是客户端到ULB这一侧的连接数

| 产品 | 模式 | 每秒新建连接（cps）| 最大并发连接（个） | 最大吞吐量（bps） | 每秒处理包量(pps) |
| --- | --- | --- | --- | --- | --- |
| 外网ULB | 报文转发 | 600,000 | 100,000,000 | 30G | 18,000,000 |
| 外网ULB | 请求代理 | 40,000（4,000 ssl） | 300,000 | 800M | 400,000 |
| 内网ULB | 报文转发 | 600,000 | 100,000,000 | 30G | 21,000,000 |
| 内网ULB | 请求代理 | 40,000（4,000 ssl） | 300,000 | 800M | 400,000 |

